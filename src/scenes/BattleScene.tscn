[gd_scene load_steps=9 format=3 uid="uid://bi3k3nqxeq27o"]

[ext_resource type="Script" uid="uid://mlyjv3o5gfg6" path="res://src/game/scene_scripts/EnemyContainer.cs" id="1_6ynkr"]
[ext_resource type="PackedScene" uid="uid://chn25mltsiwkj" path="res://src/scenes/CharacterUI.tscn" id="1_acp3n"]
[ext_resource type="Script" uid="uid://8gei2waqwany" path="res://src/game/scene_scripts/BattleScene.cs" id="1_rubm6"]
[ext_resource type="Script" uid="uid://cafimsor0kwkl" path="res://src/testing/TestBattleSystemNode.cs" id="4_hil36"]
[ext_resource type="PackedScene" uid="uid://c8g1prqa02etp" path="res://src/scenes/DamagePopup.tscn" id="5_843fn"]

[sub_resource type="StyleBoxFlat" id="StyleBoxFlat_nip0a"]
bg_color = Color(0, 0, 0, 0.078431375)

[sub_resource type="Animation" id="Animation_svsuq"]
resource_name = "FromWeapon"

[sub_resource type="AnimationLibrary" id="AnimationLibrary_mfuje"]
_data = {
&"FromWeapon": SubResource("Animation_svsuq")
}

[node name="BattleScene" type="Control" node_paths=PackedStringArray("PlayerPartyFrontRowContainer", "PlayerPartyBackRowContainer")]
layout_mode = 3
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_rubm6")
PlayerPartyFrontRowContainer = NodePath("PlayerParty/VBoxContainer/FrontRow")
PlayerPartyBackRowContainer = NodePath("PlayerParty/VBoxContainer/BackRow")
characterUIPackedScene = ExtResource("1_acp3n")

[node name="BattleMenu" type="Control" parent="."]
layout_mode = 1
anchor_left = 0.051000003
anchor_top = 0.098000005
anchor_right = 0.051000003
anchor_bottom = 0.098000005
offset_left = 0.0799942
offset_top = 0.15999603
offset_right = 367.08
offset_bottom = 617.16

[node name="Panel" type="Panel" parent="BattleMenu"]
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="PlayerParty" type="Control" parent="."]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 0

[node name="Panel" type="Panel" parent="PlayerParty"]
layout_mode = 1
anchors_preset = 7
anchor_left = 0.5
anchor_top = 1.0
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -258.0
offset_top = -228.0
offset_right = 258.0
offset_bottom = -22.0
grow_horizontal = 2
grow_vertical = 0
theme_override_styles/panel = SubResource("StyleBoxFlat_nip0a")

[node name="VBoxContainer" type="VBoxContainer" parent="PlayerParty"]
layout_mode = 1
anchors_preset = -1
anchor_right = 0.5
anchor_bottom = 1.0
offset_left = -302.0
offset_top = -216.0
offset_right = 294.0
offset_bottom = -52.0

[node name="FrontRow" type="HBoxContainer" parent="PlayerParty/VBoxContainer"]
custom_minimum_size = Vector2(0, 70)
layout_mode = 2
alignment = 1

[node name="BackRow" type="HBoxContainer" parent="PlayerParty/VBoxContainer"]
custom_minimum_size = Vector2(0, 70)
layout_mode = 2
alignment = 1

[node name="EnemyParty" type="Control" parent="."]
layout_mode = 1
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -790.0
offset_top = -443.0
offset_right = 790.0
offset_bottom = 257.0
grow_horizontal = 2
grow_vertical = 2

[node name="CanvasLayer" type="CanvasLayer" parent="EnemyParty"]

[node name="Container" type="Container" parent="EnemyParty/CanvasLayer"]
anchors_preset = -1
anchor_left = 0.17400001
anchor_top = 0.071
anchor_right = 0.84800005
anchor_bottom = 0.757
offset_left = 0.9199829
offset_top = 0.3199997
offset_right = -0.16015625
offset_bottom = 0.4399414
grow_horizontal = 2
grow_vertical = 2
script = ExtResource("1_6ynkr")

[node name="TestBattleSystem" type="Node" parent="." node_paths=PackedStringArray("damagePopup")]
script = ExtResource("4_hil36")
damagePopup = NodePath("DamagePopup")

[node name="DamagePopup" parent="TestBattleSystem" instance=ExtResource("5_843fn")]

[node name="AnimationPlayer" type="AnimationPlayer" parent="TestBattleSystem"]
libraries = {
&"": SubResource("AnimationLibrary_mfuje")
}
